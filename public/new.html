<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Card Reveal - Materialize</title>
   <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css'>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <div class="main">
        <div class="card">
            <div class="card-image waves-effect waves-block waves-light">
                <img class="activator" src="http://materializecss.com/images/office.jpg">
            </div>
            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4">Card Title<i
                        class="material-icons right">more_vert</i></span>
                <p><a href="#">This is a link</a></p>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">Card Title<i
                        class="material-icons right">close</i></span>
                <p>Here is some more information about this product that is only revealed once clicked on.</p>
            </div>
        </div>
    </div>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<div id ="loads"> Test CORS</div>  
    <script>
// let request = $.ajax({
//     url: 'http://localhost:3000/api/posts',
//     method: 'GET',
//     data: {},
//     crossDomain: true,
//     dataType: 'html',
//     beforeSend: function(){
//         console.log("Before sent!");
//         $('#loads').html("Loading...!");
//     }
// })


    // $.ajax({
    //     url: 'http://localhost:3000/api/posts'
    // }).then(function (response) {console.log('Success:', response);})

    // $(".activator").on("click", function (event) {
    //     $.get('http://localhost:3000/api/posts').done(function (data) {
    //         console.log(data);
    //         $('#loads').html("Loading...!");
    //     });
    // });

// request.done(function(data){
//     console.log("Success");
//     let json_data =JSON.parse(data)
//     console.log(json_data);
// })
        // CORS Anywhere is a node.js proxy
    //         $.ajaxPrefilter(function (options) {
    //             if (options.crossDomain && jQuery.support.cors) {
    //                 let http = window.location.protocol === 'http:' ? 'http:' : 'https:'
    //                 options.url = http + '//cors-anywhere.herokuapp.com/' + options.url
    //                 // options.url = "http://cors.corsproxy.io/url=" + options.url;
    //             }
    //         })

            
        $(".activator").on("click", function (event) {
               $.ajax({
                url: 'http://localhost:3000/api/posts'
            }).then(function (response) { console.log('Success:', response); })
        });

    //  $.ajax({

    //         url: "http://localhost:3000/api/posts",

    //         method: "GET"

    //     }).then(function (error, results) {

    //         if (error) {

    //             console.log(error);

    //         }

    //         console.log(results);

    //     })

    

          
    </script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js'></script>
</body>

</html>